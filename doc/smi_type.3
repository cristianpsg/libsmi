.\"
.\" $Id: smi_type.3,v 1.2 1999/05/05 15:48:18 strauss Exp $
.\"
.TH smi_type 3  "May 5, 1999" "IBR" "SMI Management Information Library"
.SH NAME
smiGetType, smiGetFirstType, smiGetNextType, smiFreeType \- SMI type
information routines
.SH SYNOPSIS
.nf
.B #include <smi.h>
.RS
.RE
.sp
.BI "SmiType *smiGetType(char *" spec ", char *" mod );
.RE
.sp
.BI "SmiType *smiGetFirstType(char *" modulename );
.RE
.sp
.BI "SmiType *smiGetNextType(char *" modulename ", char *" name );
.RE
.sp
.BI "void smiFreeType(SmiType *" smiTypePtr );
.RE

typedef struct SmiType {
    char         *name;
    char         *module;
    SmiBasetype  basetype;
    char         *parent;  /* fully qualified */
    void         **list;   /* SmiNamedNumber or SmiRange */
    SmiDecl      decl;
    char         *format;
    SmiValue     *value;   /* default value */
    char         *units;
    SmiStatus    status;
    char         *description;
    char         *reference;
} SmiType;

.fi
.SH DESCRIPTION
These functions retrieve information on a type definition (SMIng) or
a simple ASN.1 type definition (SMIv1/v2) or a TEXTUAL-CONVENTION
definition (SMIv2). Base types may also be retrieved, their
\fBmodule\fP element is an empty string.
.PP
The \fBsmiGetType()\fP function retrieves a \fBstruct SmiType\fP that
represents a type or textual convention. Either \fIspec\fP must be the
fully qualified descriptor leaving \fImod\fP NULL, or the name is
split into the module \fImod\fP and descriptor \fIspec\fP.  Elements
not available or not present in the definition contain NULL. See \fBsmi.h\fP
for the structure of contained elements.
.PP
The \fBsmiGetFirstType()\fP and \fBsmiGetNextType()\fP functions are
used to iteratively retrieve \fBstruct SmiType\fPs.
\fBsmiGetFirstType()\fP returns the first type or textual convention
defined in module \fImodulename\fP.  Subsequent calls to
\fBsmiGetNextType()\fP return the type or textual convention defined
after that one specified by \fIname\fP which is usually the \fBname\fP
element of the last returned \fBstruct SmiType\fP.  If there are no
more type or textual convention definitions in the module NULL is
returned.
.PP
The \fBsmiFreeType()\fP function should be called when a retrieved
\fBstruct SmiType\fP is no longer needed to release its memory.
.SH "RETURN VALUES"
The retrieval functions \fBsmiGetType()\fP, \fBsmiGetFirstType()\fP,
and \fBsmiGetNextType()\fP return the requested \fBstruct smiType\fP
on success, or NULL on error. Structures should be released after use
by calling \fBsmiFreeType()\fP which is a void function.
.SH "FILES"
.nf
/usr/local/include/smi.h    SMI library header file
.fi
.SH "NOTES"
Libsmi is work in progress. Interface inconsistencies and deficiencies
will be removed in near future.
.SH "SEE ALSO"
.BR libsmi "(3), "
.BR smi.h
.SH "AUTHOR"
(C) 1999 Frank Strauss, TU Braunschweig, Germany <strauss@ibr.cs.tu-bs.de>
.br
